<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    /* https://in.pinterest.com/niklesh_portfolio/niklesh-portfolio/  */
    input,
    select {
      display: block;
      margin-top: 10px;
    }
    button {
      display: block;
      margin-top: 15px;
    }
  </style>
  <body>
    <form action="">
      <input
        type="text"
        placeholder="Name"
        name="name"
        class="fields"
        id="name"
      />
      <span id="nameErr" style="color: red"></span>
      <input
        type="email"
        placeholder="Email"
        name="email"
        class="fields"
        id="email"
      />
      <span id="emailErr" style="color: red"></span>
      <input
        type="text"
        placeholder="Mobile"
        name="mobile"
        class="fields"
        id="mobile"
      />
      <span id="mobileErr" style="color: red"></span>
      <select name="city" class="fields" id="city">
        <option value="">Select</option>
        <option value="Mumbai">Mumbai</option>
        <option value="Delhi">Delhi</option>
        <option value="Surat">Surat</option>
      </select>
      <span id="cityErr" style="color: red"></span>
      <button id="myForm">Submit</button>
    </form>
    <table id="table" border="1"></table>
    <script>
      let myForm = document.querySelector("#myForm");
      let name = document.querySelector("#name");
      let email = document.querySelector("#email");
      let mobile = document.querySelector("#mobile");
      let city = document.querySelector("#city");
      // take error span
      let nameErr = document.querySelector("#nameErr");
      let emailErr = document.querySelector("#emailErr");
      let mobileErr = document.querySelector("#mobileErr");
      let cityErr = document.querySelector("#cityErr");

      const validateInput = (str) => {
        return str.trim().length > 0;
      };
      const nameValidate = (str) => {
        let nameExression = /^[a-zA-Z]*$/;
        return nameExression.test(str);
      };
      const emailValidate = (str) => {
        let emailExression = /[a-z0-9]+@[a-z]+\.[a-z]{2,3}/;
        return emailExression.test(str);
      };
      const mobileValidate = (str) => {
        let mobileExression = /^[0-9]*}$/;
        return mobileExression.test(str);
      };
      myForm.addEventListener("click", (e) => {
        e.preventDefault();
        nameErr.textContent = "";
        emailErr.textContent = "";
        mobileErr.textContent = "";
        cityErr.textContent = "";
        let obj = {
          name: name.value,
          email: email.value,
          mobile: mobile.value,
          city: city.value,
        };

        if (!validateInput(obj.name)) {
          nameErr.textContent = "*Required";
          return;
        }
        if (!nameValidate(obj.name)) {
          nameErr.textContent = "Enter letters only";
          return;
        }
        if (!validateInput(obj.email)) {
          emailErr.textContent = "*Required";
          return;
        }
        if(!emailValidate(obj.email)){
          emailErr.textContent = "*Follow Email Formate using @ .";
          return;
        }
        if (!validateInput(obj.mobile)) {
          mobileErr.innerHTML = "*Required";
          return;
        }
        // if(!mobileValidate(obj.mobile)){
        //   mobileErr.textContent = "*Enter Digits Only";
        //   return;
        // }
        if (!validateInput(obj.city)) {
          cityErr.textContent = "*Required";
          return;
        }
      //   let fields = document.querySelectorAll(".fields");
      //   for (let i = 0; i < fields.length; i++) {
      //     formData[fields[i].name] = fields[i].value;
      //   }
      //   arr.push(formData);
      //   getValue(arr);
      // });

      // const getValue = (arrD) => {
      //   table.innerHTML = arrD.map(
      //     (el) => `
      //  <tr>
      //     <td>${el.name}</td>
      //     <td>${el.lname}</td>
      //     <td>${el.email}</td>
      //     <td>${el.password}</td>
      //     <td>${el.cPassword}</td>
      //     <td>${el.mobile}</td>
      //     <td>${el.city}</td>
      //   </tr>
      //  `
      //   ).join(" ");
      });
    </script>
  </body>
</html>
